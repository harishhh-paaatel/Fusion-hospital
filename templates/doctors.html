{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h4 style="color:var(--brand); margin:0">Doctors</h4>
    <div class="muted">Manage doctors â€” add, edit, delete</div>
  </div>
  <div>
    <a class="btn btn-sm btn-brand" href="{{ url_for('add_doctor') }}"><i class="bi bi-plus-lg"></i> Add Doctor</a>
  </div>
</div>

<div class="card-pro">
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead>
        <tr>
          <th>Name</th><th>Specialization</th><th>Gender</th><th>Age</th><th>Phone</th><th>Date Joined</th><th>HID</th><th class="text-end">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% if doctors %}
          {% for d in doctors %}
          <tr>
            <td class="fw-semibold">{{ d[1] }}</td>
            <td class="muted">{{ d[4] or '-' }}</td>
            <td>{{ d[2] or '-' }}</td>
            <td>{{ d[5] or '-' }}</td>
            <td class="muted">{{ d[3] or '-' }}</td>
            <td class="muted">{{ d[6] or '-' }}</td>
            <td class="fw-medium">{{ d[7] or '-' }}</td>
            <td class="text-end">
              <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('edit_doctor', doctor_id=d[0]) }}"><i class="bi bi-pencil"></i></a>
              <form method="post" action="{{ url_for('delete_doctor', doctor_id=d[0]) }}" style="display:inline" onsubmit="return confirm('Delete doctor?');">
                <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button>
              </form>
            </td>
          </tr>
          {% endfor %}
        {% else %}
          <tr><td colspan="8" class="text-center muted">No doctors found.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <hr>
  <div class="muted small">Add availability slots from the Edit page for each doctor.</div>
</div>
{% endblock %}
